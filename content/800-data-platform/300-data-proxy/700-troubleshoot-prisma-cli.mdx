---
title: 'Prisma CLI commands with the Data Proxy'
metaTitle: 'Use Prisma Migrate and Introspect with the Data Proxy'
metaDescription: 'Currently, you can use Prisma Client with the Data Proxy only to query your database. If you want to run Prisma Migrate or Introspect, or any of the Prisma CLI commands listed below, you can only do so on a direct (non-Data Proxy) database connections.'
tocDepth: 3
---

<TopBlock>

Currently, you can use [Prisma Client](/concepts/components/prisma-client) with the Data Proxy only to _query_ your database .

</TopBlock>


### Problem
If you want to run [migrations](/concepts/components/prisma-migrate/get-started), [introspection](/concepts/components/introspection),  or any of the [Prisma CLI commands](/reference/api-reference/command-reference) listed below, you can only do so on a direct (non-Data Proxy) database connection.

- `prisma db pull`
- `prisma migrate deploy`
- `prisma migrate dev`
- `prisma migrate diff` (some parameters only)
- `prisma migrate reset`
- `prisma migrate resolve`
- `prisma migrate status`
- `prisma db push`
- `prisma db drop`
- `prisma db execute`
- `prisma studio`

### Solution

Assuming that use have `env("DATABASE_URL")` in your `schema.prisma` file, you need to override the `DATABASE_URL` environment variable before you run `npx prisma migrate`.

You can declare another environment variable, for example `MIGRATE_DATABASE_URL`, and use that to override the connection:

```js file=package.json highlight=5;add
{
  ...,
  "scripts": {
    "generate-client": "prisma generate --data-proxy",
    "migrate-deploy": "DATABASE_URL=\"$MIGRATE_DATABASE_URL\" prisma migrate deploy",
	  "dev": "DATABASE_URL=\"$MIGRATE_DATABASE_URL\" prisma migrate dev",
  }
}
```